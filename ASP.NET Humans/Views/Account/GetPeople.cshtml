@using OriginalWorker
@model List<Worker>;
@{
    ViewData["Title"] = "Get People Page";
}
<head>
	<link href="css/toast.min.css" rel="stylesheet">
	<script src="js/toast.min.js"></script>
</head>

<body>
    <div class="text-center">
        <table style="border-spacing: 7px 11px; border-collapse: separate;">
            <tr>
                <td>
                    <table>
                        <tr>
                            <td>Name</td>
                        </tr>

                        <tr>
                            <td>Rarity</td>
                        </tr>
                        <tr>
                            <td>Salary</td>
                        </tr>
                        <tr>
                            <td><img src="~/img/empty.png" alt=":D" width="200" height="200"></td>
                        </tr>
                    </table>
                </td>
                @for (var i = 0; i < Model.Count; i++)
                {
                    var mod = Model[i];
                    <td>
                        <table>
                            <tr>
                                <td>@mod.Name</td>
                            </tr>

                            <tr>
                                <td>@mod.Rarity</td>
                            </tr>

                            <tr>
                                <td>@mod.Salary</td>
                            </tr>

                            <tr>
                                @{
                                    string color = "";
                                    switch (@mod.Rarity)
                                    {
                                        case Rarity.Legendary:
                                            color = "orange";
                                            break;
                                        case Rarity.Epic:
                                            color = "blueviolet";
                                            break;
                                        case Rarity.Rare:
                                            color = "dodgerblue";
                                            break;
                                        case Rarity.Normal:
                                            color = "grey";
                                            break;
                                        default:
                                            color = "grey";
                                            break;
                                    }
                                }
                                <td style="background: @color; width: 210px; height: 210px;">
                                    @{
                                        var user = (User)ViewBag.User;
                                        var scr = @$"/Images/Users/{user.Id}/{mod.Id}.jpg";
                                    }
                                    <img src="@scr" alt="Can`t load image :D" width="200" height="200">

                                </td>
                            </tr>
                            <tr>
                                <td>
	                                <form>
		                                <button type="button" class="btn btn-secondary" onclick="SuccessToast('@mod.Name was successful hired');"> Hire </button>
		                                <button type="button" class="btn btn-secondary" onclick="FailToast('@mod.Name cant`t be hired.');"> Hire </button>
	                                </form>
                                </td>
                            </tr>
                        </table>
                    </td>
                }
            </tr>
        </table>
        <br />
    </div>
    <form method="post">
        <button asp-controller="Home" asp-action="RefreshGeneratedPeople">Refresh New</button>
        <button asp-controller="Home" asp-action="RefreshSystemPeople">Refresh System</button>
    </form>
</body>
  